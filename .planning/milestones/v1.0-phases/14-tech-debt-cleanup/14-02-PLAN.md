---
phase: 14-tech-debt-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/ROADMAP.md
  - .planning/REQUIREMENTS.md
  - .planning/v1.0-MILESTONE-AUDIT.md
  - docs/benchmarks.md
autonomous: true
requirements: []

must_haves:
  truths:
    - "All completed plans in ROADMAP.md have [x] checkboxes"
    - "All completed requirements in REQUIREMENTS.md have [x] checkboxes"
    - "REQUIREMENTS.md traceability table phase numbers match ROADMAP.md phase headers"
    - "REQUIREMENTS.md total count reflects actual number of requirements (89)"
    - "docs/benchmarks.md subsystem breakdown contains actual data tables, not placeholder"
    - "v1.0 audit document marks tech debt items as resolved"
  artifacts:
    - path: ".planning/ROADMAP.md"
      provides: "Corrected plan checkboxes for phases 10.1, 11, 12, 13"
    - path: ".planning/REQUIREMENTS.md"
      provides: "All 89 requirements checked, phase numbers corrected, count fixed"
    - path: "docs/benchmarks.md"
      provides: "Subsystem breakdown section with timing data from 7 open-source projects"
    - path: ".planning/v1.0-MILESTONE-AUDIT.md"
      provides: "Tech debt items marked resolved with notes"
  key_links: []
---

<objective>
Fix all documentation staleness: ROADMAP checkboxes, REQUIREMENTS checkboxes/phase numbers/counts, benchmarks.md subsystem placeholder, and audit document tech debt tracking.

Purpose: The v1.0 milestone audit identified 8 documentation-level tech debt items. These are all mechanical corrections that bring planning docs in line with actual project state and fill the last remaining placeholder in user-facing docs.

Output: Corrected ROADMAP.md, REQUIREMENTS.md, docs/benchmarks.md, and v1.0-MILESTONE-AUDIT.md.
</objective>

<execution_context>
@/Users/benvds/.claude/get-shit-done/workflows/execute-plan.md
@/Users/benvds/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/STATE.md
@.planning/v1.0-MILESTONE-AUDIT.md
@.planning/phases/14-tech-debt-cleanup/14-RESEARCH.md
@docs/benchmarks.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix ROADMAP.md and REQUIREMENTS.md checkboxes, phase numbers, and counts</name>
  <files>
    .planning/ROADMAP.md
    .planning/REQUIREMENTS.md
  </files>
  <action>
**ROADMAP.md checkbox corrections:**

Update unchecked plan checkboxes to `[x]` for all completed phases:

Phase 10.1 (3 plans — all complete):
- `- [ ] 10.1-01-PLAN.md` → `- [x] 10.1-01-PLAN.md`
- `- [ ] 10.1-02-PLAN.md` → `- [x] 10.1-02-PLAN.md`
- `- [ ] 10.1-03-PLAN.md` → `- [x] 10.1-03-PLAN.md`

Phase 11 (4 plans — all complete):
- `- [ ] 11-01-PLAN.md` → `- [x] 11-01-PLAN.md`
- `- [ ] 11-02-PLAN.md` → `- [x] 11-02-PLAN.md`
- `- [ ] 11-03-PLAN.md` → `- [x] 11-03-PLAN.md`
- `- [ ] 11-04-PLAN.md` → `- [x] 11-04-PLAN.md`

Phase 12 (2 plans — all complete):
- `- [ ] 12-01-PLAN.md` → `- [x] 12-01-PLAN.md`
- `- [ ] 12-02-PLAN.md` → `- [x] 12-02-PLAN.md`

Phase 13 (plans 13-02 and 13-03 — complete):
- `- [ ] 13-02-PLAN.md` → `- [x] 13-02-PLAN.md`
- `- [ ] 13-03-PLAN.md` → `- [x] 13-03-PLAN.md`

Leave Phase 14 plan checkboxes as `[ ]` (not yet executed).

**REQUIREMENTS.md corrections — three distinct fixes:**

**Fix 1: Update all requirement checkboxes to [x]**

All v1 requirements are satisfied (phases 1-13 complete). Change `[ ]` to `[x]` for every requirement in the v1 Requirements section:

CLI section: CLI-01 through CLI-06, CLI-09 through CLI-12 (CLI-07, CLI-08 already [x])
CFG section: CFG-01 through CFG-03, CFG-05 through CFG-07 (CFG-04 already [x])
PARSE section: PARSE-01 through PARSE-06
CYCL section: CYCL-01 through CYCL-08 (CYCL-09 already [x])
COGN section: COGN-01 through COGN-09
HALT section: HALT-01 through HALT-05
DUP section: already all [x]
STRC section: STRC-01 through STRC-06
COMP section: COMP-01 through COMP-04
OUT-CON section: OUT-CON-01 through OUT-CON-04
OUT-JSON section: OUT-JSON-01 through OUT-JSON-03
OUT-SARIF: already all [x]
OUT-HTML: already all [x]
CI section: CI-01 through CI-05
PERF: already all [x] (PERF-01, PERF-02)
DIST: already all [x]

**Fix 2: Correct traceability table phase numbers**

Cross-reference against ROADMAP.md phase headers (ROADMAP is authoritative):
- Phase 5 = Console & JSON Output (OUT-CON, OUT-JSON, CI requirements)
- Phase 6 = Cognitive Complexity (COGN requirements)
- Phase 7 = Halstead & Structural Metrics (HALT, STRC requirements)
- Phase 8 = Composite Health Score (COMP requirements)

Current WRONG values and corrections:
- COGN-01 through COGN-09: change `Phase 5` → `Phase 6`
- HALT-01 through HALT-05: change `Phase 6` → `Phase 7`
- STRC-01 through STRC-06: change `Phase 6` → `Phase 7`
- COMP-01 through COMP-04: change `Phase 7` → `Phase 8`
- OUT-CON-01 through OUT-CON-04: change `Phase 8` → `Phase 5`
- OUT-JSON-01 through OUT-JSON-03: change `Phase 8` → `Phase 5`
- CI-01 through CI-05: change `Phase 8` → `Phase 5`

Also update status column: change all `Pending` to `Complete` for phases 1-13 requirements. Leave the status for CLI-07, CLI-08, CFG-04, CYCL-09 as `Complete` (they were already marked complete for Phase 13).

**Fix 3: Correct total count**

Change `v1 requirements: 72 total` → `v1 requirements: 89 total`

Update Phase requirement counts section to use correct phase numbers:
- `Phase 5: 9 requirements (Cognitive)` → `Phase 5: 12 requirements (Console + JSON + CI)`
- `Phase 6: 11 requirements (Halstead + Structural)` → `Phase 6: 9 requirements (Cognitive)`
- `Phase 7: 4 requirements (Composite)` → `Phase 7: 11 requirements (Halstead + Structural)`
- `Phase 8: 12 requirements (Console + JSON + CI)` → `Phase 8: 4 requirements (Composite)`

Also update mapped count: `Mapped to phases: 72` → `Mapped to phases: 89`
  </action>
  <verify>
    <automated>cd /Users/benvds/code/complexity-guard && echo "ROADMAP unchecked plans for completed phases:" && grep -n "^- \[ \].*-PLAN.md" .planning/ROADMAP.md | grep -v "14-" && echo "---" && echo "REQUIREMENTS unchecked v1 requirements:" && grep -c "^\- \[ \]" .planning/REQUIREMENTS.md && echo "---" && echo "REQUIREMENTS total count:" && grep "v1 requirements:" .planning/REQUIREMENTS.md</automated>
    <manual>Visually inspect ROADMAP.md plan checkboxes for phases 10.1-13 are all [x]. Verify REQUIREMENTS.md traceability table phase numbers match ROADMAP headers.</manual>
  </verify>
  <done>
    - All completed plan checkboxes in ROADMAP.md show [x] (phases 10.1, 11, 12, 13)
    - All 89 v1 requirements in REQUIREMENTS.md show [x]
    - Traceability table phase numbers match ROADMAP phase headers
    - Traceability table status column shows Complete for all requirements
    - Total requirement count shows 89
    - Phase requirement counts use correct phase numbers
  </done>
</task>

<task type="auto">
  <name>Task 2: Fill benchmarks.md subsystem placeholder and update audit document</name>
  <files>
    docs/benchmarks.md
    .planning/v1.0-MILESTONE-AUDIT.md
  </files>
  <action>
**Fill docs/benchmarks.md subsystem breakdown section:**

Replace the placeholder at approximately line 236 (`[RESULTS: Run ...]`) with actual subsystem timing data from `benchmarks/results/baseline-2026-02-21-single-threaded/*-subsystems.json`.

Insert a narrative with tables following the existing document style (CONTEXT.md locked: present as narrative with tables, brief methodology explanation, data tables, key takeaways).

Content to insert (replacing the placeholder lines 236-238):

```markdown
> **Note:** Subsystem data is from the single-threaded baseline (Phase 10.1, captured 2026-02-21).
> This is the appropriate reference for understanding per-stage costs before parallelization (Phase 12).

| Project | Files | Funcs | Discovery | File I/O | Parsing | Cyclomatic | Cognitive | Halstead | Structural | Scoring | JSON | Total |
|---------|------:|------:|----------:|---------:|--------:|-----------:|----------:|---------:|-----------:|--------:|-----:|------:|
| dayjs | 283 | 994 | 1.1 ms | 2.4 ms | 102.1 ms | 26.2 ms | 29.4 ms | 34.4 ms | 22.2 ms | 0.0 ms | 0.0 ms | 217.8 ms |
| got | 68 | 888 | 0.7 ms | 0.8 ms | 68.9 ms | 14.1 ms | 14.4 ms | 19.7 ms | 13.0 ms | 0.0 ms | 0.0 ms | 131.7 ms |
| zod | 172 | 1,878 | 0.5 ms | 1.9 ms | 135.9 ms | 36.2 ms | 33.9 ms | 46.3 ms | 32.7 ms | 0.0 ms | 0.0 ms | 287.4 ms |
| vite | 1,182 | 2,652 | 7.8 ms | 10.1 ms | 283.0 ms | 43.0 ms | 50.0 ms | 56.1 ms | 41.6 ms | 0.0 ms | 0.1 ms | 491.8 ms |
| NestJS | 1,653 | 3,398 | 7.1 ms | 15.1 ms | 376.4 ms | 42.8 ms | 54.0 ms | 53.0 ms | 43.6 ms | 0.0 ms | 0.2 ms | 592.1 ms |
| webpack | 6,889 | 9,463 | 27.6 ms | 61.0 ms | 967.6 ms | 161.1 ms | 170.8 ms | 219.9 ms | 151.1 ms | 0.0 ms | 0.8 ms | 1,759.7 ms |
| VS Code | 5,071 | 62,565 | 26.0 ms | 82.3 ms | 7,707.4 ms | 2,769.3 ms | 2,923.3 ms | 3,154.5 ms | 2,679.1 ms | 0.0 ms | 0.6 ms | 19,342.3 ms |

**Parsing dominates** across all projects, consuming 40-64% of total pipeline time:

| Project | Parsing % | Analysis % | I/O % |
|---------|----------:|-----------:|------:|
| dayjs | 46.9% | 51.5% | 1.6% |
| got | 52.3% | 46.6% | 1.1% |
| zod | 47.3% | 51.9% | 0.8% |
| vite | 57.6% | 38.8% | 3.6% |
| NestJS | 63.6% | 32.7% | 3.7% |
| webpack | 55.0% | 39.9% | 5.0% |
| VS Code | 39.8% | 59.6% | 0.6% |

**Key takeaway:** Tree-sitter parsing is the clear optimization target. For projects up to ~1,600 files, parsing takes more time than all four metric analyses combined. For VS Code (5,071 files, 62,565 functions), the sheer volume of functions shifts the balance toward analysis, but parsing still accounts for 40% of total time.

Scoring and JSON serialization are negligible (<0.1% combined) at all scales.
```

Keep the existing paragraph below the placeholder (starting with "The subsystem benchmark profiles each CG pipeline stage...") — it provides useful context for what the data means.

**Update v1.0-MILESTONE-AUDIT.md:**

In the `tech_debt` section of the YAML frontmatter, add resolution notes to each item. For each item in the tech_debt list, append a `resolved` field:

```yaml
tech_debt:
  - phase: 04-cyclomatic-complexity
    items:
      - "TODO: function name extraction uses placeholders (<function>, <method>) instead of actual names"
    resolved: "Phase 14 Plan 01 — enhanced extractFunctionInfo with class/object/callback/export context"
  - phase: 06-cognitive-complexity
    items:
      - "Dead code: arrow_function branch in visitNode (lines 143-162) can never be reached"
    resolved: "Phase 14 Plan 01 — dead branch removed"
  - phase: 07-halstead-structural-metrics
    items:
      - "ROADMAP.md checkbox for 07-05-PLAN.md not updated to [x]"
    resolved: "Phase 14 Plan 02 — ROADMAP checkboxes corrected"
  - phase: 08-composite-health-score
    items:
      - "ROADMAP.md plan checkboxes not updated to [x]"
    resolved: "Phase 14 Plan 02 — ROADMAP checkboxes corrected"
  - phase: 10.1-performance-benchmarks
    items:
      - "[RESULTS:] placeholder in docs/benchmarks.md subsystem breakdown section (data exists in JSON but not rendered into doc)"
    resolved: "Phase 14 Plan 02 — subsystem data rendered from JSON into docs/benchmarks.md"
  - phase: documentation
    items:
      - "REQUIREMENTS.md checkboxes stale for phases 2-8 (all [ ] when work is complete)"
      - "REQUIREMENTS.md traceability table phase numbers off by one for phases 5-8 (due to Phase 5.1 insertion shifting phases)"
      - "REQUIREMENTS.md count says '72 total' but traceability table contains 89 entries"
    resolved: "Phase 14 Plan 02 — all checkboxes updated, phase numbers corrected, count fixed to 89"
```

Also update the frontmatter `status` from `gaps_found` to `resolved` (since Phase 13 closed the requirement gaps and Phase 14 closes the tech debt).
  </action>
  <verify>
    <automated>cd /Users/benvds/code/complexity-guard && echo "Benchmarks placeholder check:" && grep -c "RESULTS:" docs/benchmarks.md && echo "---" && echo "Audit resolved count:" && grep -c "resolved:" .planning/v1.0-MILESTONE-AUDIT.md</automated>
    <manual>Open docs/benchmarks.md and verify the subsystem breakdown section has data tables with 7 projects. Open audit doc and verify tech debt items have resolved notes.</manual>
  </verify>
  <done>
    - docs/benchmarks.md subsystem placeholder replaced with actual data tables for all 7 projects
    - Subsystem data clearly noted as single-threaded baseline from Phase 10.1
    - Key findings (parsing dominance) highlighted with percentage breakdown table
    - v1.0-MILESTONE-AUDIT.md tech debt items marked resolved with Phase 14 plan references
    - Audit document status updated to resolved
  </done>
</task>

</tasks>

<verification>
1. `grep -c "^\- \[ \]" .planning/ROADMAP.md` returns count matching only Phase 14 unchecked plans
2. `grep -c "^\- \[ \]" .planning/REQUIREMENTS.md` returns 0 (all v1 requirements checked)
3. `grep "v1 requirements:" .planning/REQUIREMENTS.md` shows "89 total"
4. `grep -c "RESULTS:" docs/benchmarks.md` returns 0 (placeholder gone)
5. `grep -c "resolved:" .planning/v1.0-MILESTONE-AUDIT.md` returns 6+ (all tech debt items resolved)
6. REQUIREMENTS.md traceability table: COGN rows show Phase 6, HALT/STRC show Phase 7, COMP shows Phase 8, OUT-CON/OUT-JSON/CI show Phase 5
</verification>

<success_criteria>
- ROADMAP.md plan checkboxes match actual completion state
- REQUIREMENTS.md is fully accurate: checkboxes, phase numbers, counts, status
- Benchmarks subsystem placeholder filled with real data
- Audit document reflects resolved state of all tech debt items
</success_criteria>

<output>
After completion, create `.planning/phases/14-tech-debt-cleanup/14-02-SUMMARY.md`
</output>
