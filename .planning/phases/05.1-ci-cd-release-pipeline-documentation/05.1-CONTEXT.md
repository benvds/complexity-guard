# Phase 5.1: CI/CD, Release Pipeline & Documentation - Context

**Gathered:** 2026-02-15
**Status:** Ready for planning

<domain>
## Phase Boundary

Set up changelog, release strategy, CI pipelines (GitHub workflows for tests and releases), publishing to npm/Homebrew/GitHub releases with prebuilt binaries, and improve documentation with progressive disclosure. This is an infrastructure/distribution phase — no new analysis features.

</domain>

<decisions>
## Implementation Decisions

### Release strategy
- Semantic Versioning (MAJOR.MINOR.PATCH)
- Initial version: 0.1.0 (pre-1.0 signals early/experimental)
- Keep a Changelog format (manual, human-curated CHANGELOG.md with Added/Changed/Fixed/Removed sections)
- Milestone releases (not per-phase) — cut releases at major capability milestones
- Git tags for releases (v0.1.0 format)
- Shell scripts in scripts/ for release workflow (scripts/release.sh, scripts/publish.sh)
- Release script auto-bumps version in source files (main.zig), commits, then tags — single command workflow

### Distribution channels
- All 5 prebuilt binary targets: x86_64-linux, aarch64-linux, x86_64-macos, aarch64-macos, x86_64-windows
- npm package name: `complexity-guard`
- npm delivery via platform packages pattern (separate @complexity-guard/darwin-arm64 etc. with optionalDependencies — like SWC, Prisma)
- Homebrew: own tap first (brew install benvds/tap/complexity-guard), submit to homebrew-core later once popular

### CI pipeline
- Test workflow runs on macOS + Linux (Ubuntu + macOS runners)
- Tests run on both PRs (required check) and push to main
- Release workflow triggered by manual dispatch (workflow_dispatch with version input)
- Single release workflow: build binaries → GitHub release → npm publish → update Homebrew tap

### Documentation structure
- README: quick start + feature overview with links to detailed docs/ pages (TanStack-style progressive disclosure)
- Three docs/ pages: getting started guide, CLI reference, and examples cookbook
- Tone: friendly and thorough — explanatory prose with code examples (like TanStack/Astro docs)
- Document current features only (cyclomatic complexity, console/JSON output) — update docs each phase, no "coming soon"

### Claude's Discretion
- Exact GitHub Actions workflow structure and job naming
- Zig cross-compilation build matrix details
- npm platform package naming convention specifics
- Homebrew formula template structure
- docs/ file naming and internal linking approach

</decisions>

<specifics>
## Specific Ideas

- Reference GSD project (https://github.com/gsd-build/get-shit-done/) for changelog and release strategy patterns
- Platform packages pattern like SWC/Prisma for npm binary delivery
- TanStack-style progressive disclosure for documentation
- Astro/TanStack-style friendly tone in docs

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 05.1-ci-cd-release-pipeline-documentation*
*Context gathered: 2026-02-15*
