---
phase: 05.1-ci-cd-release-pipeline-documentation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - docs/getting-started.md
  - docs/cli-reference.md
  - docs/examples.md
autonomous: true

must_haves:
  truths:
    - "README has quick start with npm and Homebrew install commands, feature overview, and links to docs/ pages"
    - "Getting started guide covers installation, first analysis, configuration basics with code examples"
    - "CLI reference documents all current flags, config options, and exit codes"
    - "Examples cookbook shows real-world usage: basic analysis, CI integration, config customization"
    - "Documentation covers only current features (cyclomatic complexity, console/JSON output) with no coming soon"
  artifacts:
    - path: "README.md"
      provides: "Progressive disclosure entry point with quick start"
      contains: "npm install"
    - path: "docs/getting-started.md"
      provides: "Installation and first analysis walkthrough"
      contains: "complexity-guard"
    - path: "docs/cli-reference.md"
      provides: "Complete flag and config documentation"
      contains: "--format"
    - path: "docs/examples.md"
      provides: "Real-world usage patterns and CI recipes"
      contains: "github"
  key_links:
    - from: "README.md"
      to: "docs/getting-started.md"
      via: "markdown link"
      pattern: "getting-started"
    - from: "README.md"
      to: "docs/cli-reference.md"
      via: "markdown link"
      pattern: "cli-reference"
    - from: "README.md"
      to: "docs/examples.md"
      via: "markdown link"
      pattern: "examples"
---

<objective>
Rewrite README with progressive disclosure (TanStack-style) and create three docs/ pages covering getting started, CLI reference, and examples.

Purpose: Give users a clear quick-start path in README with detailed information in docs/, documenting current features accurately.
Output: README.md (rewritten), docs/getting-started.md, docs/cli-reference.md, docs/examples.md
</objective>

<execution_context>
@/Users/benvds/.claude/get-shit-done/workflows/execute-plan.md
@/Users/benvds/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05.1-ci-cd-release-pipeline-documentation/05.1-CONTEXT.md
@.planning/phases/05.1-ci-cd-release-pipeline-documentation/05.1-RESEARCH.md
@src/main.zig
@src/cli/help.zig
@src/cli/args.zig
@src/output/console.zig
@src/output/json_output.zig
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite README with progressive disclosure</name>
  <files>README.md</files>
  <action>
Rewrite README.md following TanStack-style progressive disclosure per user decision. Tone: friendly and thorough (like TanStack/Astro docs). Document CURRENT features ONLY — no "coming soon" or future plans.

README structure:
1. **Title + tagline**: "ComplexityGuard" + one-line description: "Fast complexity analysis for TypeScript/JavaScript — single static binary, zero dependencies."

2. **Quick Start** section with installation options:
   - npm: `npm install -g complexity-guard`
   - Homebrew: `brew install benvds/tap/complexity-guard`
   - Direct download: link to GitHub releases
   - Run: `complexity-guard src/`

3. **Example Output** section: Show realistic console output demonstrating threshold indicators (check mark for ok, warning indicator for warnings, error indicator for errors) with function names and complexity values. Use a short example that fits on screen.

4. **Features** section (bulleted list):
   - Cyclomatic Complexity: McCabe metric with ESLint-aligned counting rules
   - Console + JSON Output: Human-readable terminal display and machine-readable JSON for CI
   - Configurable Thresholds: Warning (10) and error (20) levels, customizable per project
   - Zero Config: Works out of the box, optional .complexityguard.json for customization
   - Single Binary: No runtime dependencies, runs offline, fast startup
   - Error-Tolerant Parsing: Tree-sitter based, handles syntax errors gracefully

5. **Documentation** section with links:
   - [Getting Started](docs/getting-started.md) -- Installation, first analysis, configuration basics
   - [CLI Reference](docs/cli-reference.md) -- All flags, config options, exit codes
   - [Examples](docs/examples.md) -- Real-world usage patterns, CI integration recipes

6. **Configuration** section: Brief example of .complexityguard.json showing include/exclude and thresholds. Link to CLI Reference for full details.

7. **Building from Source** section: Brief zig build instructions.

8. **License** section: MIT

Remove the old Status/Completed/Up Next sections, Architecture section, Project Structure section (those belong in CLAUDE.md or docs/), and the note about CLI accepting all flags.

Do NOT include references to metrics not yet implemented (cognitive, Halstead, structural, duplication, composite). Do NOT include SARIF or HTML output formats. Only document what works today.
  </action>
  <verify>
Read README.md and verify:
- Quick start section with npm + Homebrew + direct download
- Links to all three docs/ pages
- No references to unimplemented features
- Friendly, thorough tone
  </verify>
  <done>README.md provides progressive disclosure with quick start, current features only, example output, and links to detailed docs/ pages. No unimplemented features mentioned.</done>
</task>

<task type="auto">
  <name>Task 2: Create docs/ pages (getting started, CLI reference, examples)</name>
  <files>docs/getting-started.md, docs/cli-reference.md, docs/examples.md</files>
  <action>
Create three documentation pages in docs/ with friendly, thorough tone (TanStack/Astro style per user decision). Current features only.

**docs/getting-started.md** -- "Getting Started":
1. Installation section with three methods:
   - npm (global install): `npm install -g complexity-guard`
   - Homebrew (macOS/Linux): `brew install benvds/tap/complexity-guard`
   - Direct download: download binary from GitHub releases, chmod +x, add to PATH
   - Building from source: zig build instructions
2. First Analysis section: walk through running `complexity-guard src/` on a project, explain the output
3. Understanding the Output section: explain threshold indicators, function names, line numbers, complexity values
4. Configuration section: create .complexityguard.json, explain include/exclude patterns, threshold customization, counting rules (logicalOperators, nullishCoalescing, optionalChaining, switchCaseMode)
5. Next Steps: links to CLI Reference and Examples

**docs/cli-reference.md** -- "CLI Reference":
1. Usage: `complexity-guard [paths...] [options]`
2. Arguments section: explain [paths...] with examples
3. Flags section (document each flag with description, options, defaults, examples):
   - --format (console, json) -- default: console
   - --output <file> -- write to file
   - --fail-on (error, warning, never) -- default: error
   - --metrics (cyclomatic) -- default: cyclomatic
   - --config <file> -- config file path
   - --init -- generate default config
   - --verbose -- per-function detail
   - --quiet -- errors only
   - --help -- display help
   - --version -- display version
4. Configuration File section: full .complexityguard.json schema with all options documented
5. Exit Codes table: 0 (success), 1 (errors), 2 (warnings), 3 (config error), 4 (parse error)
6. JSON Output Schema section: document the JSON structure (version, timestamp, summary, files array with metrics)

Reference the actual flag names and behavior from src/cli/args.zig and src/cli/help.zig. Read these files to get exact flag names.

**docs/examples.md** -- "Examples":
1. Basic Usage section: analyze directory, analyze specific files, analyze with verbose output
2. CI Integration section:
   - GitHub Actions example (step in workflow that runs complexity-guard, fails on threshold)
   - JSON output for programmatic parsing
   - Using exit codes in scripts
3. Configuration Recipes section:
   - Strict mode (warning: 5, error: 10)
   - Lenient mode (warning: 20, error: 40)
   - Exclude test files
   - TypeScript only (exclude .js/.jsx)
4. Working with JSON Output section: pipe to jq, extract specific metrics, generate reports

All examples should be realistic and runnable (given the tool is installed). Do NOT include examples for features not yet implemented.

Remove the existing docs/PRD.md and docs/refinements.md references from docs/ -- those are planning documents, not user docs. Do NOT delete them (they may be referenced elsewhere), but do NOT link to them from user docs.
  </action>
  <verify>
Verify all three docs/ files exist.
Verify docs/getting-started.md covers installation, first analysis, configuration.
Verify docs/cli-reference.md documents all current flags and exit codes.
Verify docs/examples.md has CI integration and configuration recipes.
Verify no references to unimplemented features in any docs/ page.
  </verify>
  <done>Three docs/ pages exist with comprehensive coverage: getting started (installation, first analysis, config), CLI reference (all flags, config schema, exit codes, JSON schema), and examples (basic usage, CI integration, config recipes, JSON processing). All content reflects current features only.</done>
</task>

</tasks>

<verification>
- README.md links to all three docs/ pages and links resolve
- No mention of cognitive, Halstead, structural, duplication, composite, SARIF, or HTML in any doc
- All flag names match actual implementation in src/cli/args.zig
- All exit codes match implementation in src/output/console.zig
- Tone is friendly and thorough throughout (prose with code examples, not dry reference)
</verification>

<success_criteria>
- README provides quick start with npm + Homebrew + download installation
- Getting started guide walks through first analysis to configuration
- CLI reference documents every current flag, config option, and exit code
- Examples cookbook includes CI integration and real-world configuration recipes
- All documentation reflects current features only
</success_criteria>

<output>
After completion, create `.planning/phases/05.1-ci-cd-release-pipeline-documentation/05.1-03-SUMMARY.md`
</output>
