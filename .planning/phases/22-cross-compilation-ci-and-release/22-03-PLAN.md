---
phase: 22-cross-compilation-ci-and-release
plan: 03
type: execute
wave: 2
depends_on: [22-01, 22-02]
files_modified:
  - README.md
  - docs/getting-started.md
  - docs/cli-reference.md
  - docs/examples.md
  - docs/releasing.md
  - publication/npm/README.md
  - publication/npm/packages/darwin-arm64/README.md
  - publication/npm/packages/darwin-x64/README.md
  - publication/npm/packages/linux-arm64/README.md
  - publication/npm/packages/linux-x64/README.md
  - publication/npm/packages/windows-x64/README.md
autonomous: true
requirements: [REL-05]

must_haves:
  truths:
    - "README documents the Rust binary as the current version"
    - "Getting started guide references Rust binary download from GitHub Releases"
    - "Binary size information is documented with measured values or placeholders for CI-measured values"
    - "Release documentation describes the Rust release workflow"
    - "Publication READMEs are in sync with main README"
  artifacts:
    - path: "README.md"
      provides: "Updated project README reflecting Rust binary"
      contains: "Rust"
    - path: "docs/releasing.md"
      provides: "Updated release documentation for Rust workflow"
      contains: "rust-release"
  key_links:
    - from: "README.md"
      to: "docs/getting-started.md"
      via: "link to getting started guide"
      pattern: "getting-started"
---

<objective>
Update all user-facing documentation to reflect the Rust binary as the current distribution: README.md, docs pages, release documentation, and publication READMEs. Document binary size measurements and the new Rust release workflow.

Purpose: Users and contributors need accurate documentation about the Rust binary, how to download it, and how releases work.
Output: Updated README.md, docs/*.md, publication/npm/README.md, and platform package READMEs.
</objective>

<execution_context>
@/Users/benvds/.claude/get-shit-done/workflows/execute-plan.md
@/Users/benvds/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/22-cross-compilation-ci-and-release/22-RESEARCH.md
@.planning/phases/22-cross-compilation-ci-and-release/22-01-SUMMARY.md
@.planning/phases/22-cross-compilation-ci-and-release/22-02-SUMMARY.md
@README.md
@docs/getting-started.md
@docs/cli-reference.md
@docs/examples.md
@docs/releasing.md
@publication/npm/README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update main README and docs for Rust binary</name>
  <files>README.md, docs/getting-started.md, docs/cli-reference.md, docs/examples.md</files>
  <action>
Read the current content of each file, then make targeted updates to reflect the Rust binary:

**README.md:**
- Update the project description to note it's built with Rust (not Zig). Keep the core value proposition unchanged.
- Update the "Installation" section: mention GitHub Releases as the download source for Rust binaries. List the 5 available platforms: Linux x86_64, Linux aarch64, macOS x86_64, macOS aarch64, Windows x86_64.
- If there's a "Binary Size" or similar section, update with a note that binary sizes are measured in CI and recorded per-release. Add placeholder text like "See the latest GitHub Release for measured binary sizes per platform" (actual sizes will be filled after the first CI run).
- Keep npm/Homebrew installation methods as-is if they exist (they reference the Zig binary but will be updated when npm distribution ships).
- Add or update a "Building from Source" section that mentions Rust: `cd rust && cargo build --release`.

**docs/getting-started.md:**
- Update download instructions to reference GitHub Releases for the Rust binary.
- List the 5 platform archives with their naming convention: `complexity-guard-{platform}.tar.gz` (or `.zip` for Windows).
- Keep existing "Usage" content unchanged (CLI interface is identical between Zig and Rust).

**docs/cli-reference.md:**
- No major changes expected. If it references Zig build commands, update to `cd rust && cargo build --release`. The CLI flags are identical.

**docs/examples.md:**
- No changes needed unless examples reference Zig-specific build steps. Update any build instructions to Rust equivalents.

Be conservative: only change what's necessary to reflect Rust. Do not rewrite sections that are still accurate (CLI usage, configuration, metric descriptions).
  </action>
  <verify>
    <automated>cd /Users/benvds/code/complexity-guard && grep -l "Rust" README.md docs/getting-started.md && echo "PASS: Rust mentioned in README and getting-started" || echo "FAIL"</automated>
    <manual>Read README.md and docs/getting-started.md to confirm download instructions reference GitHub Releases for Rust binary</manual>
  </verify>
  <done>README.md and docs pages reference the Rust binary, GitHub Releases as download source, and list all 5 platform targets. Build-from-source instructions use cargo.</done>
</task>

<task type="auto">
  <name>Task 2: Update releasing docs and sync publication READMEs</name>
  <files>docs/releasing.md, publication/npm/README.md, publication/npm/packages/darwin-arm64/README.md, publication/npm/packages/darwin-x64/README.md, publication/npm/packages/linux-arm64/README.md, publication/npm/packages/linux-x64/README.md, publication/npm/packages/windows-x64/README.md</files>
  <action>
**docs/releasing.md:**
- Read the current content. It documents the Zig release workflow.
- Add a new section "Rust Release Workflow" (or replace the Zig section if appropriate) documenting:
  - The `rust-release.yml` workflow is triggered by `v*` tag push or manual workflow_dispatch.
  - The workflow has 3 jobs: validate (semver check), build (5-target matrix), release (GitHub Release creation).
  - The `scripts/release.sh` script bumps version in `rust/Cargo.toml`, generates changelog, creates commit+tag, and pushes.
  - Usage: `./scripts/release.sh patch` (or minor/major).
  - Document that the Zig release workflow (`release.yml`) still exists for legacy Zig binary releases but the primary workflow is now `rust-release.yml`.
- Document the 5 archive names: `complexity-guard-linux-x86_64-musl.tar.gz`, `complexity-guard-linux-aarch64-musl.tar.gz`, `complexity-guard-macos-x86_64.tar.gz`, `complexity-guard-macos-aarch64.tar.gz`, `complexity-guard-windows-x86_64.zip`.

**Publication READMEs:**
- Read `publication/npm/README.md` and each platform package README.
- Sync key content from main README: project description mentioning Rust, platform availability.
- Keep npm-specific installation instructions intact.
- These are minimal updates to stay in sync per CLAUDE.md GSD Workflow Rules.
  </action>
  <verify>
    <automated>cd /Users/benvds/code/complexity-guard && grep -q "rust-release" docs/releasing.md && grep -q "Cargo.toml" docs/releasing.md && echo "PASS: releasing.md documents Rust release workflow" || echo "FAIL"</automated>
    <manual>Verify publication READMEs are consistent with main README</manual>
  </verify>
  <done>docs/releasing.md documents the Rust release workflow, scripts/release.sh usage, and 5 archive names. Publication READMEs are synced with main README's Rust binary description.</done>
</task>

</tasks>

<verification>
- README.md mentions Rust binary and GitHub Releases.
- docs/getting-started.md has download instructions for 5 platforms.
- docs/releasing.md documents the rust-release.yml workflow.
- Publication READMEs are synced with main README.
- No stale Zig-only references in primary documentation paths.
</verification>

<success_criteria>
- All user-facing docs reflect the Rust binary as the current version.
- Release documentation covers the new Rust workflow.
- Publication READMEs match the main README for key content.
</success_criteria>

<output>
After completion, create `.planning/phases/22-cross-compilation-ci-and-release/22-03-SUMMARY.md`
</output>
